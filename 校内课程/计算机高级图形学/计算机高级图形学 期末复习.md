---
title: 计算机高级图形学 期末复习
categories:
  - 校内课程
  - 计算机高级图形学
abbrlink: 1b712153
date: 2025-11-04 21:40:00
updated: 2025-11-04 21:40:00
---

<meta name="referrer" content="no-referrer"/>

# 第一章 绪论

## 本章复习重点

- 图形学和图像学的区别。
- 走样的原因和反走样的概念。
- 选择题（直线算法）。
- 光栅显示系统。

<!-- more -->

## 计算机图形学概述

|          | 图形处理                                                     | 图像处理                                                     |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 数据来源 | **多来源于主观世界，人为地由计算机产生，由数据描述而生成图形。** | **多来源于客观世界，来自对实物的拍摄、捡取。**               |
| 处理方法 | 图形处理技术包括：几何变换，拟合，图形操作，图形模型产生，图形处理，隐藏线，面的消除，浓淡处理，色彩纹理处理，图案生成等。 | 图像处理技术包括：图像几何修正（校正），图像采集、存储、编码、滤波、增强、压缩、复原、重建、图形理解识别等。 |
| 理论基础 | 多利用数学矩阵代数、计算几何、分形几何等。                   | 多利用二维数字信号滤波，各种信号正交变换等。                 |
| 应用领域 | 多应用 CAD/CAM/CAE/CAI 等领域，以及计算机艺术、计算机模拟、计算机动画、多媒体系统应用等。 | 多应用于多媒体系统，医学，遥感遥测，工业控制，监测监视，天文气象，军事侦察等。 |

## 图形学研究内容

1. 建模：创建用计算机表示的三维物体模型，主要是形状表述与定义。
2. 渲染：通过各种矩阵变换从模型产生物体的二维图像，主要考虑光照、透视变换。
3. 动画：描述物体运动变化。

## 光栅扫描系统

### 随机扫描与光栅扫描

随机扫描技术的本质是按照显示命令的任意顺序，将电子束从一个端点偏转到另一个端点。

<img src="https://cdn.davidingplus.cn/images/2025/11/04/image-20251104203112346.png" alt="image-20251104203112346" style="zoom:50%;" />

光栅图形具有对显示区域填充颜色或图案的能力，存储的图像更加易于操作。

<img src="https://cdn.davidingplus.cn/images/2025/11/04/image-20251104203145253.png" alt="image-20251104203145253" style="zoom:60%;" />

光栅显示器上的图形由光栅（raster）形成。

**光栅是一组互相平行的水平扫描线。每行扫描线是由大小一致的显示单元组成的显示序列，每一显示单元称为一个像素，可显示给定的颜色和灰度。**

光栅显示器将显示图元（primitive）如线、文字、填充颜色或图案区域等，以像素的形式存储到一个刷新缓冲器中。

### 光栅扫描系统

构成：

1. 帧缓冲区（Frame Buffer）。
2. 视频控制器（Video Controller）。
3. 显示处理器（Display Processor / GPU）。

视频控制器如何实现基本刷新：

1. 有两个寄存器用来存放屏幕像素的坐标。
2. 存储在帧缓冲区中该像素对应位置的值被取出，并用来设置 CRT 电子束的强度值。

显示处理器的主要任务是**将应用程序给出的图形定义数字化为一组像素强度值，并存放在帧缓冲区中**。这个数字化过程称为**扫描转换（Scan Conversion）**。

### 直线段的扫描转换算法

当我们对直线进行光栅化时，需要在显示器有限个像素中，确定最佳逼近该直线的一组像素，并且按扫描线顺序，对这些像素进行写操作，这个过程称为用显示器绘制直线或直线的扫描转换。

三种算法：

1. 基本增量算法（DDA）数值微分算法。
2. 中点画线算法。
3. **Bresenham 算法（使用最广泛）。**

#### DDA 算法

在一个坐标轴上以单位间隔对线段取样，则另一个坐标轴以常数 m 或 1/m 变化，从而获得线段上各像素点。

<img src="https://cdn.davidingplus.cn/images/2025/11/04/image-20251104205009793.png" alt="image-20251104205009793" style="zoom:50%;" />

算法迭代公式：
$$
\text{若 } |m| \le 1:
\begin{cases}
x_{k+1} = x_k + 1, \quad y_{k+1} = y_k + m, & (x_a < x_b) \\
x_{k+1} = x_k - 1, \quad y_{k+1} = y_k - m, & (x_a > x_b)
\end{cases}

\\

\text{若 } |m| \ge 1:
\begin{cases}
y_{k+1} = y_k + 1, \quad x_{k+1} = x_k + \dfrac{1}{m}, & (y_a < y_b) \\
y_{k+1} = y_k - 1, \quad x_{k+1} = x_k - \dfrac{1}{m}, & (y_a > y_b)
\end{cases}
$$

#### Bresenham 算法

**只用整数计算寻找最接近实际直线的整数坐标。即从 Yk 和 Yk + 1 中取出最贴近 y 坐标的点作为拟合点，但只通过整数计算。**

<img src="https://cdn.davidingplus.cn/images/2025/11/04/image-20251104211634765.png" alt="image-20251104211634765" style="zoom:50%;" />

推导过程如下：
$$
\\
\textbf{假定：} \quad 0 < m < 1
\\

已知点 (x_k, y_k)，求下一点 (x_{k+1}, y_{k+1})。(x_{k+1}, y_{k+1}) 的两种可能为：(x_{k+1}, y_k) \quad \text{或} \quad (x_{k+1}, y_k + 1)。其中：x_{k+1} = x_k + 1
\\

\textbf{推导：}
\\
设两点与理想直线的距离分别为 d_1、d_2：

\\
\begin{aligned}
d_1 &= y - y_k = m x_{k+1} + b - y_k, \\
d_2 &= y_{k+1} - y = y_{k+1} - (m x_{k+1} + b).
\end{aligned}
\\
因此：d_1 - d_2 = 2m x_{k+1} - 2y_k + 2b - 1
\\
令：m = \frac{\Delta y}{\Delta x}
\\
代入上式，引入决策参数 P_k 表示相对距离：
\\
P_k = \Delta x (d_1 - d_2) = 2\Delta y x_k - 2\Delta x y_k + C
\\
其中：C = 2\Delta y + \Delta x (2b - 1)
\\

\textbf{推论：}
\\
\begin{cases}
P_k < 0, & \text{则选择 } y_{k+1} = y_k \\
P_k \ge 0, & \text{则选择 } y_{k+1} = y_k + 1
\end{cases}
\\

P_k 的递推公式：
\\

由
\\
\begin{aligned}
P_{k+1} &= 2\Delta y x_{k+1} - 2\Delta x y_{k+1} + C, \\
P_k &= 2\Delta y x_k - 2\Delta x y_k + C,
\end{aligned}
\\

两式相减得：
\\
P_{k+1} - P_k = 2\Delta y (x_{k+1} - x_k) - 2\Delta x (y_{k+1} - y_k)
\\ = 2\Delta y - 2\Delta x (y_{k+1} - y_k)

\\
\therefore \; {P_{k+1}} \text{ 的递推公式：}
\\

P_{k+1} =
\begin{cases}
P_k + 2\Delta y, & (P_k < 0) \\[6pt]
P_k + 2\Delta y - 2\Delta x, & (P_k \ge 0)
\end{cases}
\\

初始值为：\\

P_0 = 2\Delta y - \Delta x
$$

#### 中点画线算法

用判别式判断点与直线的关系。

<img src="https://cdn.davidingplus.cn/images/2025/11/04/image-20251104213004956.png" alt="image-20251104213004956" style="zoom:50%;" />

算法思路：
$$
F(x, y) = (m x + b) - y \\[6pt]
F(x_{k+1},\, y_k + 0.5) = 0, 
\quad \text{对应点 } (x_{k+1},\, y_{k+1}) \text{ 可能为 } (x_{k+1},\, y_k + 1) \text{ 或 } (x_{k+1},\, y_k) \\[6pt]
\begin{cases}
F(x_{k+1},\, y_k + 0.5) < 0, & \text{中点在直线上方，选择 } (x_{k+1},\, y_k) \\[6pt]
F(x_{k+1},\, y_k + 0.5) > 0, & \text{中点在直线下方，选择 } (x_{k+1},\, y_k + 1)
\end{cases}
$$

### 走样与反走样

对于光栅系统来说，只能用光栅网格上的像素近似地描绘平滑的直线、多边形和圆、椭圆等曲线图元。如果引起了图中看到的**锯齿状或阶梯状的边界线问题**，在图形学中称为“走样”。

用于减少或消除这种现象的技术称为“反走样”。

<img src="https://cdn.davidingplus.cn/images/2025/11/04/image-20251104213414197.png" alt="image-20251104213414197" style="zoom:67%;" />

# 第二章 颜色模型

## 本章复习重点

- 什么是设备无关的颜色模型。
- 什么是设备相关的颜色模型。
- RGB 和 CMY 颜色模型的比较。
- 哪些颜色模型是设备相关的？哪些颜色模型是设备无关的？
- 颜色模型之前的转换。

## 颜色模型

颜色模型就是用一组数值来描述颜色的数学模型。

**设备无关**的颜色模型：这类颜色模型是基于人眼对色彩感知的度量建立的数学模型，这些颜色模型主要用于计算和测量。

**设备相关**的颜色模型：以最常见的 RGB 模型为例，一组确定的 RGB 数值，在一个 LED 屏上显示，最终会作用到三色 LED 的电压上。这样一组值在不同设备上解释时，得到的颜色可能并不相同。

颜色模型是某个三维空间中的一个可见光子集。**任何一个色彩域都只是可见光的子集，任何一个颜色模型都无法包含所有的可见光。**

**三原色：红、绿、蓝。**

## RGB 颜色模型

三维直角坐标颜色系统中的一个单位正方体。

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109185701763.png" alt="image-20251109185701763" style="zoom:75%;" />

RGB 颜色模型构成的颜色空间是 CIE 原色空间的一个真子集。RGB 三原色是**加性原色**。

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109185942413.png" alt="image-20251109185942413" style="zoom:66%;" />

RGB 颜色模型通常用于彩色阴极射线管和彩色光栅图形显示器。

## CMY 颜色模型

**CMY 颜色模型是以红、绿、蓝三色的补色青（Cyan）、品红（Magenta）、黄（Yellow）为原色构成的颜色模型。**

CMY 颜色模型常用于**从白光中滤去某种颜色**，故称为**减色原色**空间。

![image-20251109185958804](https://cdn.davidingplus.cn/images/2025/11/09/image-20251109185958804.png)

CMY 颜色模型对应的直角坐标系的子空间与 RGB 颜色模型对应的子空间几乎完全相同。

## RGB 和 CMY 颜色模型的对比

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109190252186.png" alt="image-20251109190252186" style="zoom:60%;" />

## HSV 颜色模型

HSV 颜色模型是面向用户的。在 HSV 颜色模型中，每一种颜色和它的补色相差 180 度。

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109190711853.png" alt="image-20251109190711853" style="zoom:80%;" />

HSV 颜色模型的优点：

- 符合人眼对颜色的感觉。
- 当采用 RGB（或者 CMY）颜色模型时，改变某一颜色的属性，比如改变色调就必须同时改变 R、G、B（或者 C、M、Y）三个坐标；而采用 HSV 颜色模型时**只需改变 H 坐标**。即它的三个坐标是独立的。
- HSV 颜色模型构成的是一个**均匀**的颜色空间，采用线性的标尺，彩色之间感觉上的距离与 HSV 颜色模型坐标上点的欧几里德距离成正比。

## CIE（国际照明委员会）颜色模型

CIE 颜色模型包括一系列颜色模型，这些颜色模型是由国际照明委员会提出的，是**基于人的眼睛对 RGB 的反应，被用于精确表示对色彩的接收**。

CIE 是**设备无关性**：

- 被用来定义所谓的**独立于设备**的颜色。
- 它能够在任何类型的设备上产生真实的颜色，例如：扫描仪、监视器和打印机。
- 很适合计算机描述颜色的范围。

### CIE XYZ

XYZ 三刺激值的概念是以色视觉的三元理论为根据的，它说明**人眼具有接受三原色(红、绿、蓝)的接受器**，而所有的颜色均被视作该三原色的混合色。

CIE 制定了一种配色函数，能和 RGB 通过矩阵运算进行转化。

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109191400975.png" alt="image-20251109191400975" style="zoom:40%;" />

**颜色的概念可以分为两部分：亮度（光的振幅，即明暗程度）、色度（光的波长组合，即具体某种颜色）。**我们将光的亮度 Y 变量分离出来，之后用比例来表示三色刺激值：

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109191459184.png" alt="image-20251109191459184" style="zoom:60%;" />

可以发现，r、g、b 三者和为 1，只要知道其中两个就能求出另外一个。然后再和光的亮度 Y 结合起来，就能绘制 Yxy 颜色空间。

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109191806008.png" alt="image-20251109191806008" style="zoom:50%;" />

### CIE L\*a\*b\*

L\*a\*b\* 颜色空间是在 1976 年制定的，它是 CIE XYZ 颜色模型的改进型，以便**克服 Yxy 颜色空间存在的在 x、y 色度图上相等的距离并不相当于所觉察到的相等色差的问题**。同样是一种描述人类视觉感知的、设备无关的颜色模型。

L\*a\*b\* 的概念图：

- L：明亮度。
- a：从绿色到红色。
- b：从蓝色到黄色。

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109192447257.png" alt="image-20251109192447257" style="zoom:50%;" />

与 XYZ 比较，CIE L\*a\*b\* 颜色更适合人眼的感觉。

利用 CIE L\*a\*b\*，颜色的亮度（L）、灰阶和饱和度（a、b）可以单独修正，这样，图像的整个颜色都可以在不改变图像或其亮度的情况下，发生改变。

## YUV

“Y” 表示明亮度（Luminance），“U” 和 “V” 分别表示色度（Chrominance）和浓度（Chroma)。

**采用 YUV 颜色空间的重要性是它的亮度信号 Y 和色度信号 U、V 是分离的。**这样能解决彩色电视机和黑白电视机的兼容问题，使黑白电视机也能接收到彩色信号。如果只有 Y 信号分量而没有 U、V 分量，那么这样表示的图就是黑白灰度图。

## 各种颜色模型之间的转换

各种颜色模型之间的转换一般是以 RGB 和 CIE XYZ 作为桥梁进行的。

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109193132489.png" alt="image-20251109193132489" style="zoom:50%;" />

### RGB 和 CMY

RGB 的取值通常是 0 ~ 255 的整数。

```markdown
C = 255 – R
M = 255 – G
Y = 255 – B
```

### RGB 和 HSV

1. 查表法

最可靠方法：

把 RGB 坐标转换为 1931 CIE XYZ 系统中的 (x， y， Y) 坐标。根据 (x， y， Y) 查找对应表，得到相应的 (H， S， V) 坐标。逆向操作则可以从 HSV 坐标转换到 RGB 坐标。

xyY 坐标与 HSV 坐标的对照表已由色度学实验得到。这种方法需要依赖对照表，比较笨重。

2. 数学公式

从 RGB 到 HSV：

设 m=max(r, g, b)，n=min(r, g, b)。

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109193605016.png" alt="image-20251109193605016" style="zoom:80%;" />

从 HSV 到 RGB：

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109193725839.png" alt="image-20251109193725839" style="zoom:50%;" />

### RGB 和 CIE XYZ

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109193801097.png" alt="image-20251109193801097" style="zoom:67%;" />

### CIE XYZ 和 CIE L\*a\*b\*

L 的范围是 0 ~ 100，a, b 的范围是 -300 ~ 300。从 -a 到 +a 表示绿到红过渡，-b 到 +b 表示蓝到黄过渡。

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109193926183.png" alt="image-20251109193926183" style="zoom:77%;" />

### RGB 和 CIE YUV

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109193949447.png" alt="image-20251109193949447" style="zoom:80%;" />

# 第三章 物体表示

## 本章复习重点

- 什么是建模坐标系，和世界坐标系的区别。
- OBJ 数据结构。
- 什么是 BREP，其结构中包含哪些信息。
- 半边数据结构。
- 多边形的优缺点。
- Bézier 曲线优缺点。
- NURBS 曲线和 B 样条曲线的改进是什么。
- 参数曲线的优缺点。
- 细分曲面的作用。
- 细分曲面的原理。
- Catmull-Clark subdivision。
- 有哪些常见的细分规则。
- 细分曲面的翼边存储。
- 物体的 CSG 表示。
- 什么是分形几何。
- 分型维数计算。
- L- 系统，能够用 L- 系统绘制物体。

## 物体的集合表示

### 坐标表示

一些概念：

1. 世界坐标系(WC)：场景参照坐标系，一个场景只有一个世界坐标系。
2. 观察坐标系(VC)：根据场景观察时的视点和观察方向所建立的坐标系。
3. 投影坐标(PC)：观察坐标系下场景的二维投影坐标。
4. 设备坐标系(DC)或屏幕坐标系：该场景的世界坐标系描述转换为一个或多个输出设备参照系来显示。该坐标系依赖于具体的显示输出设备。
5. 规范化坐标系(NC)：指独立于具体物理设备的一种坐标系，它的显示范围在 x 和 y 上都是 0 到 1，主要用于在计算机内部处理图形，对一个具体物理设备，NC 与 DC 仅仅是相差一个比例因子，NC可被看成是一个抽象的图形设备。 

在一个世界坐标系中，由许多物体组成。不同物理的几何描述和空间坐标系密切相关，在不同坐标系中有着不同的表示方式。**选择某个空间坐标系能使得该物体的几何表示最简单，这就是建模坐标系。**

例如，一个单位正方体在世界和建模坐标系中的不同表示如下。明显建模坐标系更简洁。

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109202426738.png" alt="image-20251109202426738" style="zoom:67%;" />

建模坐标系除了形式简洁，还方便几何操作。在同一几何场景中，一个物体可能会多次出现，它们可以通过复制加变换的方式得到：标准体素＋变换＝新的物体。

例如，以下是在建模和世界坐标系中旋转一个圆柱面。

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109202703686.png" alt="image-20251109202703686" style="zoom:60%;" />

### 多边形表示

物体的多边形表示是通过大量的平面片，三角形、四边形以及 n 边形。本质是**线性表示形式**。

#### 数据来源

一个物体经过三维测量和扫描以后，原始数据一般是三维空间中的点集。通过适当的重建算法得到其多边形的表示。

常用物体外形用数学表示方法包括参数曲面、细分曲面、隐式曲面等。

#### 表示方法：OBJ 格式

重点！！！

1. **顶点坐标表（x, y, z）：每个顶点处可能有多个平面片，一般情况下顶点数小于面片数。**
2. **纹理坐标表（u, v）：控制纹理映射时纹理在表面上的位置。**
3. **法向表 (nx, ny, nz) ：控制物体绘制时的着色光滑程度。如果顶点法向为取作该面片的法向，绘制出来的多边形物体棱角分明如果顶点法向是周围面片法向的某种平均，则绘制结果是光滑的。**
4. **面表：由指向顶点、纹理坐标以及法向的指针组成。**

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109203355330.png" alt="image-20251109203355330" style="zoom:67%;" />

#### 数据结构

##### BRep 表示

**边界表示，也称为 BRep 表示**，它是几何造型中最成熟、无二义的表示法。**实体的边界通常是由面的并集来表示，而每个面又由它所在的曲面的定义加上其边界来表示，面的边界是边的并集，而边又是由点来表示的。**

在边界表示法中，边界表示按照**体－面－环－边－点**的层次，详细记录构成形体的所有几何元素的几何信息及其相互连接的拓朴关系。

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109203820619.png" alt="image-20251109203820619" style="zoom:60%;" />

1. 顶点：0 维度几何元素。
2. 边：一维几何元素。对正则形体，边是两邻面的交集，对非正则形体，边有可能是多个邻面的交集。边的形状可以是直线，也可以是曲线。
3. 环：二维几何元素。有序、有向边（直线段或曲线段）组成的面的封闭边界。外环边通常按逆时针方向排序，内环边通常按顺时针方向排序。
4. 面：二维几何元素。可以无内环，但必须有且只有一个外环。面有方向性，一般用其外法线方向作为该面的正向。面的形状可以是平面，也可以是曲面。
5. 体：三维几何元素。由封闭表面围成的空间，其边界是有限面的并集。

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109204101621.png" alt="image-20251109204101621" style="zoom:67%;" />

##### 半边数据结构

半边结构（Half-Edge Structure）：可定向的二维流形及其子集。

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109204222651.png" alt="image-20251109204222651" style="zoom:55%;" />

每条边被记为两条半边，记录每条半边：

- 起始顶点的指针。
- 邻接面的指针(如果为边界，指针为 NULL)。
- 下一条半边(逆时针方向)。
- 相邻的半边。
- 前一条半边(可选)。

面：边界上的一条半边。

顶点：

- 坐标值。
- 指向以此顶点为起始端点的半边。

对于一个半边数据结构的简单形式，一个面仅仅需要储存一条围绕它的半边的指针。在半边数据结构中的点储存着 x，y，z 的位置和以其为起始点的半边的指针。

一个半边结构的实例：

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109204623522.png" alt="image-20251109204623522" style="zoom:60%;" />

<img src="https://cdn.davidingplus.cn/images/2025/11/09/image-20251109204648499.png" alt="image-20251109204648499" style="zoom:60%;" />

半边结构的优势和不足：

- 优势：查询时间 O(1)， 操作时间 (通常) O(1)。
- 缺点：只能表示可定向流形，信息冗余。

#### 优势与不足

优势：

- 表示简单。
- 可以表示具有任意拓扑的物体。
- 可以表示具有丰富细节的物体。
- 大部分图形硬件支持多边形物体的加速绘制。

不足：

- 逼近表示，难以满足交互时放大要求。
- 难以用传统方法修改(编辑)物体外形。
- 缺乏解析表达式，几何属性计算困难。
- 在表示复杂拓扑和具有丰富细节的物体时，数据量庞大，建模、编辑、绘制、存储的负担重。

